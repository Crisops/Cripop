---

  import type { MovieWithGenders } from "@/types/Genders"
  import { Image } from "astro:assets"
  import FooterMovie from "./FooterMovie.astro"

  interface Props {
    id: number
    url_image: string
    title?: string
    name?: string 
    widht: number
    height: number
    genders: MovieWithGenders
    rate: number
    index: number
    url: string
  }

  const {id, url_image, title, name, widht, height, genders, rate, index, url} = Astro.props

  const urlTitle = title?.replace(/\s/g, "-") // Se cambia los espacios en blanco por -
  const urlName = name?.replace(/\s/g, "-") // Se cambia los espacios en blanco por -

  console.log(url_image);
  
  if (/undefined/ig.test(url_image)) {
    console.log("true");
    
  }

---



<article class="relative min-w-[300px] group rounded-lg overflow-hidden" transition:name=`movie box ${id}`>
  <a href=`${url === "movie" ? 'movie': 'tv/series'}/${id}/${urlTitle ?? urlName}`>
    {
      (!/undefined/i.test(url_image))
      ?
      <Image
      transition:name={`movie image ${id}`}
      class="cursor-pointer transition-transform duration-500 rounded-lg group-hover:scale-105"
      src={url_image}
      alt={`${title ?? name}`}
      width={widht}
      height={height}
      quality={"low"}
    />
      :
      <div class="w-full h-full flex justify-center items-center">
        <span class="text-white font-Ubuntu text-xl font-bold text-center">Lo sentimos, no se encuentra una imagen para esta pel√≠cula.</span>
      </div>
    }
    <FooterMovie genders={genders} index={index} rate={rate}/>
      <div class="absolute inset-0 top-0 right-0 bg-gradient-to-t from-black translate-y-full transition-all duration-300 ease-linear group-hover:translate-y-0 cursor-pointer"></div>
  </a>
</article>